@model IEnumerable<ClassicGarage.Models.CarModels>
@using Microsoft.AspNet.Identity

@{
    ViewBag.Title = "Twoje Samochody";
}

<img src="https://www.freewebheaders.com/wordpress/wp-content/gallery/porsche-car/porsche-911-silver-color-top-speed-car-web-header.jpg" width="100%" height="100%" />

<center>

    <font size="6">@Html.ActionLink("Dodaj nowy Samochód do bazy", "Create") </font>

</center>
<br />
<br />




    <div class="table-responsive">
        <table class="table">
            <tr>

                <th>
                    Marka
                </th>
                <th>
                    Model
                </th>
                <th>
                    Rocznik
                </th>
                <th>
                    Nr Vin
                </th>

                <th>
                    Data zakupu
                </th>
                <th>
                    Cena Zakupu
                </th>
                <th>
                    Zdjecie
                </th>

                <th></th>
            </tr>

            @foreach (var item in Model)
            {

             
            <tr>
                @if ((Request.IsAuthenticated) && User.Identity.GetUserName().Equals(item.Owner.Email))
                {

                    <td>
                        @Html.DisplayFor(modelItem => item.Make)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Model)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Year)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.VIN)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.PurchaseDate)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.PurchaseAmount)
                    </td>



                    <td>
                        <img class="img-fluid" src="@Html.DisplayFor(modelItem => item.Picture)" width="300px" height="200px">

                    </td>

                    <td>
                        @Html.ActionLink("Szczegóły", "Details", new { id = item.ID }) |
                        @Html.ActionLink("Usuń", "Delete", new { id = item.ID })
                    </td>
                }
                </tr>

            }
            
        </table>
    </div>
